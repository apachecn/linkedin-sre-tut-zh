# 安全性

> 原文：<https://linkedin.github.io/school-of-sre/level102/networking/security/>

> 本节将涵盖面向外部/内部客户的服务所面临的威胁媒介。部署时要考虑的潜在缓解选项。这将涉及周边安全、DDoS 保护、网络划分和运营实践。

### 安全威胁

在任何基础设施中，安全性都是主要考虑因素之一。存在各种安全威胁，可能导致数据窃取、服务丢失、欺诈活动等。攻击者可以使用网络钓鱼、垃圾邮件、恶意软件、Dos/DDoS、利用漏洞、中间人攻击等技术。在本节中，我们将讨论其中一些威胁和可能的缓解措施。由于攻击和保护基础设施的方法很多，我们将只关注一些最常见的方法。

**网络钓鱼**大多通过电子邮件(和其他大众传播方式)进行，攻击者提供虚假网站/URL 的链接。在访问该网站时，受害者的敏感信息(如登录凭据或个人数据)会被收集并可能被滥用。

**垃圾邮件**也类似于网络钓鱼，但攻击者不会从用户那里收集数据，而是试图向特定网站发送垃圾邮件，很可能会淹没他们(导致速度变慢),并利用这个机会危及受攻击网站的安全。

**恶意软件**就像特洛伊木马，攻击者设法在基础设施中的安全系统上安装一段代码。利用这一点，黑客可以收集敏感数据，并感染目标公司的关键服务。

**利用漏洞**是攻击者获得系统访问权限的另一种方法。这些可能是 web 服务器、面向互联网的路由器/交换机/防火墙等中的错误或错误配置。

DoS/DDoS 是基于互联网的服务/解决方案中常见的攻击之一，尤其是那些基于眼球流量的业务。在这里，攻击者试图通过向面向外部的服务生成虚假流量来淹没受害者的资源。这样，主要是服务变得缓慢或无响应，在此期间，如果某些安全机制由于过载而无法过滤攻击流量，攻击者可能会试图侵入网络。

### 保护基础设施

任何基础设施管理的首要方面是识别可能影响在该基础设施上运行的业务的各种安全威胁。一旦知道了不同的威胁，就必须设计和实施安全防御机制。保护基础设施的一些常用方法有

#### 周边安全

这是任何基础设施中的第一道防线，过滤/阻止不需要的/意外的流量流入基础设施。这些可以是边缘路由器中的过滤器，允许预期的服务(如在 HTTPS 上运行的 web 服务的端口 443 流量)，或者如果服务不依赖于 UDP，则可以设置该过滤器来阻止不想要的流量，如阻止 UDP 端口。

类似于进入网络的应用流量，可能存在其他流量，如针对互联网对等体的 BGP 消息、VPN 隧道流量，以及其他服务，如电子邮件/DNS 等。有一些方法可以保护其中的每一个，例如对 BGP、VPN 的对等体使用身份验证机制(基于密码或密钥),以及将这些特定对等体列入白名单以进行入站连接(在边界过滤器中)。除此之外，可以将消息/流量的数量限制在已知的规模或预期的负载，这样资源就不会不堪重负。

#### DDoS 缓解

防范 DDoS 攻击是另一个重要方面。攻击流量看起来类似于真正的用户/客户端请求，但目的是淹没外部暴露的应用，可能是 web 服务器、DNS 等。因此，区分攻击流量和真实流量至关重要，为此，在应用级别有不同的方法，例如在 web 服务上使用 Captcha 来捕获源自僵尸程序的流量。

为了使这些方法有用，节点应该能够处理攻击流量和真实流量。在基于云的基础架构中，可以动态添加更多的虚拟机/资源，以应对流量的突然激增，但在内部，添加额外资源的选项可能具有挑战性。

为了处理大量的攻击流量，有一些可用的解决方案，这些解决方案可以检查数据包/流量流，并识别不像真正连接的异常(即)流量模式，如客户端发起 TCP 连接，但无法完成握手，或具有异常巨大流量流的一组源。一旦识别出这种不需要的流量，这些流量就会被丢弃在网络本身的边缘，从而保护应用节点的资源。可以更详细地讨论这个主题，但这超出了本节的范围。

#### 网络划界

当应用根据其安全需求和易受攻击性进行分组时，网络划分是部署在不同网络中的另一种常见策略。一些常见的划分是，面向外部/互联网的节点被分组到一个单独的区域，而那些具有敏感数据的节点被隔离到一个单独的区域。并且在安全工具的帮助下限制这些区域之间的任何通信，以限制暴露给不需要的主机/端口。这些区间通信过滤器有时被称为隔离。要创建的区域数量因不同的部署而异，例如，可能有一台主机应该能够与外部世界以及内部服务器(如代理、电子邮件)进行通信，在这种情况下，这些可以分组到一个区域中，例如非军事化区域(DMZ)。创建区域的主要优势在于，即使有一台主机遭到破坏，也不会成为基础架构其余部分的后门入口。

#### 节点保护

无论是服务器、路由器、交换机、负载平衡器、防火墙等，这些设备都具有某些保护自身安全的功能，例如支持过滤器(如访问列表、Iptables)来控制要处理的流量和要丢弃的流量，可以在服务器中使用防病毒软件来检查安装在服务器中的软件。

#### 操作实践

基础设施面临众多安全威胁，有不同的解决方案来防御这些威胁。防御的关键部分不仅是确定正确的解决方案和工具，还要确保有可靠的操作程序，以便对任何安全事件做出迅速、果断和清晰的响应。

##### 标准操作程序

SOP 需要明确定义，并作为安全事故期间随叫随到参考。本 SoP 应涵盖以下内容:

*   当安全事故发生时，如何报警，向谁报警。

*   确定安全事件的规模和严重性。

*   谁是上报点以及传达上报点的界限/时间，可能有其他相关团队或管理层，甚至负责安全运营的人员。

*   使用哪些解决方案(以及其中遵循的程序)来缓解安全事故。

*   此外，有关安全事故的数据必须进行整理，以供进一步分析。

许多组织都有一个专注于安全的专门团队，他们在攻击期间甚至之前推动大多数活动，以提出最佳实践、指导方针和合规性审计。确保基础架构符合这些建议并修复差距是各个技术团队的责任。

##### 定期审查

在定义 SoP 的同时，必须定期审查基础设施的整体安全性。该审查应包括:

*   识别可能以基础设施为目标的任何新的/改进的安全威胁。

*   根据新的安全威胁或程序中的变化，必须定期审查 SoP(以实施解决方案)

*   确保及时完成软件升级/补丁。

*   审核基础架构是否存在任何不符合安全标准的情况。

*   审查最近的安全事件，并找到临时建立防御机制的方法。